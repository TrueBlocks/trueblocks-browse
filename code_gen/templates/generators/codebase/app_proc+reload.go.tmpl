// This file is auto-generated. Edit only code inside
// of ExistingCode markers (if any).
package app

// EXISTING_CODE
// EXISTING_CODE

func (a *App) Reload() {
	defer a.trackPerformance("Reload", false)()

	route := a.session.LastRoute
	logger.InfoG("Reloading", route, "...")

	switch route {
{{range .Structures -}}
	{{ $class := .Class }}
	{{ $routeName := .UiRouteName }}
	{{ $routeLower := print (toLower .UiRouteName) }}
	{{ $isHistory := eq $class "History" }}
	{{ $isProject := eq $class "Project" }}
	{{ $theRoute := print (toLower .UiRouteName) }}
	{{ if $isProject }}
		{{ $theRoute = "" }}
	{{ end }}
{{ if not $isHistory }}{{ print `	case "/` $theRoute `":
		a.` $routeLower `.Updater.Reset()
		if err := a.load` $routeName `(nil, nil); err != nil {
			a.emitErrorMsg(err, nil)
		}
` }}
{{ end }}{{ end }}
	// EXISTING_CODE
	// EXISTING_CODE
}

	a.emitMsg(messages.Refresh, &messages.MessageMsg{
		Name:    a.daemons.FreshenController.Name,
		String1: "Refresh...",
		String2: a.daemons.FreshenController.Color,
		Num1:    1, // 1 means daemon if we need it
	})
}
