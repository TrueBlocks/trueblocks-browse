// This file is auto-generated. Edit only code inside
// of ExistingCode markers (if any).
package app

// EXISTING_CODE
// EXISTING_CODE

func (a *App) Fetch{{.Class}}(first, pageSize int) *types.{{.Class}}Container {
	// EXISTING_CODE
	// EXISTING_CODE

	a.{{.UiRouteLower}}.CollateAndFilter()
{{if .NeedsPaging -}}
	first = base.Max(0, base.Min(first, len(a.{{.UiRouteLower}}.Items)-1))
	last := base.Min(len(a.{{.UiRouteLower}}.Items), first+pageSize)
	copy, _ := a.{{.UiRouteLower}}.ShallowCopy().(*types.{{.Class}}Container)
	copy.Items = a.{{.UiRouteLower}}.Items[first:last]
	return copy
{{- else -}}
	copy, _ := a.{{.UiRouteLower}}.ShallowCopy().(*types.{{.Class}}Container)
	return copy
{{- end}}
}
